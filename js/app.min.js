"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,o=window.innerWidth-document.body.offsetWidth+"px",n=document.querySelectorAll(".fixed");e?(t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=o,n&&n.forEach((function(e){e.style.marginRight=o}))):(t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),n&&n.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,o=e.querySelectorAll(".categories__list-item"),n=0;o.forEach((function(e,o){o<=t&&(n+=e.getBoundingClientRect().height,o>0&&(n+=14))})),e.style.maxHeight=n+"px"}function o(){S.style.height="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",S.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",q.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",b.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)"}var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.remove("is--open")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.add("is--open")},i=document.querySelectorAll(".c-quantity__btn--minus"),a=document.querySelectorAll(".c-quantity__btn--plus");i&&i.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-quantity").querySelector(".c-quantity__value"),n=o.value;o.value=n>"0"?1*o.value-1:o.value}))})),a&&a.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-quantity").querySelector(".c-quantity__value"),n=o.value;o.value=n>="99"?o.value:1*o.value+1}))}));var l=document.querySelectorAll(".catalog-filter__range-slider");l&&l.forEach((function(e){var t=e.closest(".catalog-filter__range"),o=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){o[t].value=Math.round(e[t])})),o.forEach((function(t,o){t.addEventListener("change",(function(){e.noUiSlider.setHandle(o,Math.round(this.value))})),t.addEventListener("keydown",(function(t){var n,r=e.noUiSlider.get(),i=Number(r[o]),a=e.noUiSlider.steps()[o];switch(t.which){case 13:e.noUiSlider.setHandle(o,Math.round(this.value));break;case 38:!1===(n=a[1])&&(n=1),null!==n&&e.noUiSlider.setHandle(o,Math.round(i+n));break;case 40:!1===(n=a[0])&&(n=1),null!==n&&e.noUiSlider.setHandle(o,Math.round(i-n))}}))}))}));var c=document.getElementById("mobile-menu"),s=document.getElementById("hamburger-toggle"),d=document.querySelector(".mobile-menu__close"),u=document.querySelectorAll(".mobile-menu__link--category"),y=document.querySelectorAll(".mobile-menu__back");c&&s&&d&&(s.addEventListener("click",(function(e){e.preventDefault(),c.classList.contains("is--active")?c.classList.remove("is--active"):c.classList.add("is--active")})),d.addEventListener("click",(function(e){e.preventDefault(),c.classList.contains("is--active")&&c.classList.remove("is--active")})),u&&u.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.category;document.querySelector(".mobile-menu__holder--main").classList.remove("is--active"),document.querySelector('.mobile-menu__holder[data-id="'+o+'"]').classList.add("is--active")}))})),y&&y.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".mobile-menu__holder").forEach((function(e){return e.classList.remove("is--active")})),document.querySelector(".mobile-menu__holder--main").classList.add("is--active")}))})));var m=document.querySelectorAll(".mobile-menu__link--trigger");m&&m.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.parentNode.classList.contains("is--open")?n(e.nextElementSibling):r(e.nextElementSibling)}))}));var v=document.querySelector(".c-filter-trigger__btn"),g=document.querySelector(".catalog-filter"),p=document.querySelector(".catalog-filter__close");v&&g&&p&&(v.addEventListener("click",(function(t){t.preventDefault(),g.classList.contains("is--active")||(g.classList.add("is--active"),e(1))})),p.addEventListener("click",(function(t){t.preventDefault(),g.classList.remove("is--active"),e()})));var f=document.querySelector(".c-catalog"),h=document.querySelector(".c-catalog__trigger"),_=document.querySelectorAll(".c-catalog__categories-link"),S=document.querySelector(".c-catalog__dropdown"),q=document.querySelector(".c-catalog__left"),b=document.querySelector(".c-catalog__right");f&&h&&_&&(h.addEventListener("click",(function(e){e.preventDefault(),f.classList.contains("is--active")?f.classList.remove("is--active"):(f.classList.add("is--active"),o())})),_.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;document.querySelectorAll(".c-catalog__holder").forEach((function(e){e.classList.remove("is--active")})),_.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")}))})));var L=document.querySelectorAll(".categories__list"),E=document.querySelectorAll(".categories__view-all");L&&E&&(L.forEach((function(e){t(e)})),E.forEach((function(e){e.addEventListener("click",(function(o){o.preventDefault();var n=e.closest(".categories__item").querySelector(".categories__list"),r=n.querySelectorAll(".categories__list-item").length;n.classList.contains("is--full")?(n.classList.remove("is--full"),e.innerHTML="Показать все",t(n,9)):(n.classList.add("is--full"),e.innerHTML="Скрыть все",t(n,r))}))})));var w=document.querySelectorAll(".catalog-categories__more");w&&w.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".catalog-categories__list");o.classList.contains("is--full")?(o.classList.remove("is--full"),e.innerHTML="Показать все"):(o.classList.add("is--full"),e.innerHTML="Скрыть")}))}));var x=window.pageYOffset;window.addEventListener("scroll",(function(){var e=window.pageYOffset;x>e||x<=0?header&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(header.querySelector(".header__fixed").style.boxShadow="none",header.querySelector(".header__fixed").style.position="relative"):header&&window.pageYOffset>=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(header.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",header.querySelector(".header__fixed").style.position="fixed"),f.classList.contains("is--active")&&o(),x=e}))}));