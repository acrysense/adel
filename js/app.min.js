"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,n=window.innerWidth-document.body.offsetWidth+"px",a=document.querySelectorAll(".fixed");e?(t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=n,a&&a.forEach((function(e){e.style.marginRight=n}))):(t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),a&&a.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}var t=document.querySelectorAll(".c-quantity__btn--minus"),n=document.querySelectorAll(".c-quantity__btn--plus");t&&t.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".c-quantity").querySelector(".c-quantity__value"),a=n.value;n.value=a>"0"?1*n.value-1:n.value}))})),n&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".c-quantity").querySelector(".c-quantity__value"),a=n.value;n.value=a>="99"?n.value:1*n.value+1}))}));var a=document.querySelectorAll(".catalog-filter__range-slider");a&&a.forEach((function(e){var t=e.closest(".catalog-filter__range"),n=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){n[t].value=Math.round(e[t])})),n.forEach((function(t,n){t.addEventListener("change",(function(){e.noUiSlider.setHandle(n,Math.round(this.value))})),t.addEventListener("keydown",(function(t){var a,o=e.noUiSlider.get(),r=Number(o[n]),i=e.noUiSlider.steps()[n];switch(t.which){case 13:e.noUiSlider.setHandle(n,Math.round(this.value));break;case 38:!1===(a=i[1])&&(a=1),null!==a&&e.noUiSlider.setHandle(n,Math.round(r+a));break;case 40:!1===(a=i[0])&&(a=1),null!==a&&e.noUiSlider.setHandle(n,Math.round(r-a))}}))}))}));var o=document.querySelector(".c-filter-trigger__btn"),r=document.querySelector(".catalog-filter"),i=document.querySelector(".catalog-filter__close");o&&r&&i&&(o.addEventListener("click",(function(t){t.preventDefault(),r.classList.contains("is--active")||(r.classList.add("is--active"),e(1))})),i.addEventListener("click",(function(t){t.preventDefault(),r.classList.remove("is--active"),e()})));var c=document.querySelector(".c-catalog"),l=document.querySelector(".c-catalog__trigger"),s=document.querySelectorAll(".c-catalog__categories-link");c&&l&&s&&(l.addEventListener("click",(function(e){e.preventDefault(),c.classList.contains("is--active")?c.classList.remove("is--active"):c.classList.add("is--active")})),s.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;s.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")})),e.addEventListener("mouseout",(function(){var t=e.dataset.category;document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.remove("is--active")}))})));var d=document.querySelectorAll(".categories__view-all");d&&d.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".categories__list");n.classList.contains("is--full")?(n.classList.remove("is--full"),e.innerHTML="Показать все"):(n.classList.add("is--full"),e.innerHTML="Скрыть все")}))}))}));