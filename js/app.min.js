"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,r=window.innerWidth-document.body.offsetWidth+"px",o=document.querySelectorAll(".fixed");e?(t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=r,o&&o.forEach((function(e){e.style.marginRight=r}))):(t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),o&&o.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=e.querySelectorAll(".categories__list-item"),o=0;r.forEach((function(e,r){r<=t&&(o+=e.getBoundingClientRect().height,r>0&&(o+=14))})),e.style.maxHeight=o+"px"}function r(){g.style.height="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",g.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",f.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)",y.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+document.querySelector(".header__wrapper--main").getBoundingClientRect().height)+"px)"}var o=document.querySelectorAll(".c-quantity__btn--minus"),n=document.querySelectorAll(".c-quantity__btn--plus");o&&o.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.closest(".c-quantity").querySelector(".c-quantity__value"),o=r.value;r.value=o>"0"?1*r.value-1:r.value}))})),n&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.closest(".c-quantity").querySelector(".c-quantity__value"),o=r.value;r.value=o>="99"?r.value:1*r.value+1}))}));var i=document.querySelectorAll(".catalog-filter__range-slider");i&&i.forEach((function(e){var t=e.closest(".catalog-filter__range"),r=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){r[t].value=Math.round(e[t])})),r.forEach((function(t,r){t.addEventListener("change",(function(){e.noUiSlider.setHandle(r,Math.round(this.value))})),t.addEventListener("keydown",(function(t){var o,n=e.noUiSlider.get(),i=Number(n[r]),a=e.noUiSlider.steps()[r];switch(t.which){case 13:e.noUiSlider.setHandle(r,Math.round(this.value));break;case 38:!1===(o=a[1])&&(o=1),null!==o&&e.noUiSlider.setHandle(r,Math.round(i+o));break;case 40:!1===(o=a[0])&&(o=1),null!==o&&e.noUiSlider.setHandle(r,Math.round(i-o))}}))}))}));var a=document.querySelector(".c-filter-trigger__btn"),c=document.querySelector(".catalog-filter"),l=document.querySelector(".catalog-filter__close");a&&c&&l&&(a.addEventListener("click",(function(t){t.preventDefault(),c.classList.contains("is--active")||(c.classList.add("is--active"),e(1))})),l.addEventListener("click",(function(t){t.preventDefault(),c.classList.remove("is--active"),e()})));var d=document.querySelector(".c-catalog"),u=document.querySelector(".c-catalog__trigger"),s=document.querySelectorAll(".c-catalog__categories-link"),g=document.querySelector(".c-catalog__dropdown"),f=document.querySelector(".c-catalog__left"),y=document.querySelector(".c-catalog__right");d&&u&&s&&(u.addEventListener("click",(function(e){e.preventDefault(),d.classList.contains("is--active")?d.classList.remove("is--active"):(d.classList.add("is--active"),r())})),s.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;document.querySelectorAll(".c-catalog__holder").forEach((function(e){e.classList.remove("is--active")})),s.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")}))})));var h=document.querySelectorAll(".categories__list"),v=document.querySelectorAll(".categories__view-all");h&&v&&(h.forEach((function(e){t(e)})),v.forEach((function(e){e.addEventListener("click",(function(r){r.preventDefault();var o=e.closest(".categories__item").querySelector(".categories__list"),n=o.querySelectorAll(".categories__list-item").length;o.classList.contains("is--full")?(o.classList.remove("is--full"),e.innerHTML="Показать все",t(o,9)):(o.classList.add("is--full"),e.innerHTML="Скрыть все",t(o,n))}))})));var m=document.querySelectorAll(".catalog-categories__more");m&&m.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.closest(".catalog-categories__list");r.classList.contains("is--full")?(r.classList.remove("is--full"),e.innerHTML="Показать все"):(r.classList.add("is--full"),e.innerHTML="Скрыть")}))}));var _=window.pageYOffset;window.addEventListener("scroll",(function(){var e=window.pageYOffset;_>e||_<=0?header&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(header.querySelector(".header__fixed").style.boxShadow="none",header.querySelector(".header__fixed").style.position="relative"):header&&window.pageYOffset>=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(header.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",header.querySelector(".header__fixed").style.position="fixed"),d.classList.contains("is--active")&&r(),_=e}))}));