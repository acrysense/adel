"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,i=window.innerWidth-document.body.offsetWidth+"px",s=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=i,s&&s.forEach((function(e){e.style.marginRight=i}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),s&&s.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=e.querySelectorAll(".categories__list-item"),s=0;i.forEach((function(e,i){i<=t&&(s+=e.getBoundingClientRect().height,i>0&&(s+=14))})),e.style.maxHeight=s+"px"}function i(){F.style.height="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",F.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",G.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",K.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)"}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.remove("is--open")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;var s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.add("is--open")};Inputmask().mask(document.querySelectorAll("input"));var o=document.querySelectorAll("textarea");o&&o.forEach((function(e){e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",(function(t){e.style.height="auto",e.style.height=e.scrollHeight+"px"}))}));var r=document.querySelectorAll(".catalog-filter__range-slider");r&&r.forEach((function(e){var t=e.closest(".catalog-filter__range"),i=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){i[t].value=Math.round(e[t])})),i.forEach((function(t,i){t.addEventListener("change",(function(){e.noUiSlider.setHandle(i,Math.round(this.value))})),t.addEventListener("keydown",(function(t){var s,c=e.noUiSlider.get(),o=Number(c[i]),r=e.noUiSlider.steps()[i];switch(t.which){case 13:e.noUiSlider.setHandle(i,Math.round(this.value));break;case 38:!1===(s=r[1])&&(s=1),null!==s&&e.noUiSlider.setHandle(i,Math.round(o+s));break;case 40:!1===(s=r[0])&&(s=1),null!==s&&e.noUiSlider.setHandle(i,Math.round(o-s))}}))}))}));var n=document.querySelectorAll(".js-select");n&&n.forEach((function(e){new SlimSelect({select:e})}));var l=document.querySelectorAll(".c-sm-info__trigger");l&&l.forEach((function(e){var t=function(){e.closest(".c-sm-info").classList.remove("is--active")},i=function(e,t){var i=function(i){for(var c=i.target;c&&!e.includes(c);)c=c.parentNode;c||(t(),s())};function s(){document.documentElement.removeEventListener("click",i)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",i)},removeBodyChecker:s}}([e.parentNode],t);e.addEventListener("click",(function(s){if(window.innerWidth<=743){s.preventDefault();var c=e.closest(".c-sm-info");c.classList.contains("is--active")?t():(c.classList.add("is--active"),i.setBodyChecker())}}))}));var a=document.querySelector(".header"),d=document.querySelector(".header-search"),u=document.querySelector(".header-search__input"),v=document.querySelector(".header-search__clear"),m=document.querySelector(".header-search__preview"),y=document.querySelector(".header-search__holder"),p=document.querySelector(".header-search__btn"),f=document.querySelector(".header-search__close");d&&(v.addEventListener("click",(function(e){e.preventDefault(),u.value.length>0&&(u.value="",m.classList.remove("is--hidden"),y.classList.remove("is--active"))})),window.innerWidth<=1023?(p.addEventListener("click",(function(t){t.preventDefault(),a.classList.contains("is--search")||d.classList.contains("is--active")||(a.classList.add("is--search"),d.classList.add("is--active"),u.value.length>=2?(m.classList.add("is--hidden"),y.classList.add("is--active")):(m.classList.remove("is--hidden"),y.classList.remove("is--active")),j.classList.contains("is--active")?j.classList.remove("is--active"):e(1))})),f.addEventListener("click",(function(t){t.preventDefault(),a.classList.contains("is--search")&&d.classList.contains("is--active")&&(a.classList.remove("is--search"),d.classList.remove("is--active"),e())}))):(u.addEventListener("focus",(function(){U.classList.contains("is--active")&&U.classList.remove("is--active"),a.classList.add("is--search"),d.classList.add("is--active"),j.classList.contains("is--active")?j.classList.remove("is--active"):e(1)})),d.addEventListener("click",(function(t){t.target.classList.contains("header-search")&&(t.preventDefault(),a.classList.remove("is--search"),d.classList.remove("is--active"),e())}))));var _=document.getElementById("mobile-menu"),h=document.getElementById("hamburger-toggle"),g=document.querySelector(".mobile-menu__close"),L=document.querySelectorAll(".mobile-menu__link--category"),S=document.querySelectorAll(".mobile-menu__back");_&&h&&g&&(h.addEventListener("click",(function(t){t.preventDefault(),_.classList.contains("is--active")?(_.classList.remove("is--active"),e(0)):(_.classList.add("is--active"),w&&w.classList.contains("is--active")&&w.classList.remove("is--active"),e(1))})),g.addEventListener("click",(function(t){t.preventDefault(),_.classList.contains("is--active")&&(_.classList.remove("is--active"),e())})),L&&L.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.dataset.category;document.querySelector(".mobile-menu__holder--main").classList.remove("is--active"),document.querySelector('.mobile-menu__holder[data-id="'+i+'"]').classList.add("is--active")}))})),S&&S.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".mobile-menu__holder").forEach((function(e){return e.classList.remove("is--active")})),document.querySelector(".mobile-menu__holder--main").classList.add("is--active")}))})));var w=document.getElementById("mobile-city-preview"),b=document.querySelectorAll(".mobile-city-preview__close"),q=document.querySelectorAll(".mobile-city-preview__btn");w&&b&&q&&(b.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),w.classList.contains("is--active")&&w.classList.remove("is--active")}))})),q.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&w.classList.remove("is--active")}))})));var E=document.querySelectorAll(".mobile-menu__link--trigger");E&&E.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.parentNode.classList.contains("is--open")?s(e.nextElementSibling):c(e.nextElementSibling)}))}));var k=document.getElementById("city-selection"),x=document.querySelectorAll(".city-selection-btn"),P=document.querySelector(".city-selection__close"),A=document.querySelector(".city-selection__input"),B=document.querySelector(".city-selection__info"),D=document.querySelector(".city-selection__results");document.querySelector(".city-selection__empty");k&&(k.addEventListener("click",(function(t){(t.target.classList.contains("city-selection")||t.target.classList.contains("city-selection__wrap"))&&(t.preventDefault(),k.classList.remove("is--active"),e())})),x.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),k.classList.contains("is--active")||(k.classList.add("is--active"),e(1),w&&w.classList.contains("is--active")&&w.classList.remove("is--active"),U&&U.classList.contains("is--active")&&U.classList.remove("is--active"))}))})),P.addEventListener("click",(function(t){t.preventDefault(),k.classList.contains("is--active")&&(k.classList.remove("is--active"),B.classList.add("is--active"),D.classList.remove("is--active"),A.value="",_?!_.classList.contains("is--active")&&window.innerWidth<=743&&e(0):e(0))})),A.addEventListener("input",(function(e){e.preventDefault(),A.value.length>=2?(B.classList.remove("is--active"),D.classList.add("is--active"),axios({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},url:"/ajax/get_cities.php",data:{string:A.value}}).then((function(e){document.querySelector(".city-selection__results .city-selection__list").classList.remove("is--hidden"),document.querySelector(".city-selection__empty").classList.remove("is--active");var t=document.querySelector(".city-selection__results").querySelector(".city-selection__list");t.innerHTML="",JSON.parse(JSON.stringify(e.data)).forEach((function(e,i){t.insertAdjacentHTML("afterbegin",'<li class="city-selection__item"><button class="city-selection__link" data-city="'.concat(e.NAME_RU,'">').concat(e.NAME_RU,"</button></li>"))}))})).catch((function(e){document.querySelector(".city-selection__results .city-selection__list").classList.add("is--hidden"),document.querySelector(".city-selection__empty").classList.add("is--active")}))):(B.classList.add("is--active"),D.classList.remove("is--active"))})));var T=document.querySelector(".c-filter-trigger__btn"),V=document.querySelector(".catalog-filter"),C=document.querySelector(".catalog-filter__close");T&&V&&C&&(T.addEventListener("click",(function(t){t.preventDefault(),V.classList.contains("is--active")||(V.querySelectorAll(".catalog-filter__block--extended.is--active")&&(V.querySelectorAll(".catalog-filter__block--default").forEach((function(e){return e.classList.remove("is--hidden")})),V.querySelectorAll(".catalog-filter__block--extended").forEach((function(e){e.classList.remove("is--active"),e.style.transition="0s",setTimeout((function(){e.removeAttribute("style")}),500)}))),V.classList.add("is--active"),e(1))})),C.addEventListener("click",(function(t){t.preventDefault(),V.classList.remove("is--active"),e()})));var H=document.querySelectorAll(".catalog-filter__more"),N=document.querySelectorAll(".catalog-filter__reset"),M=document.querySelectorAll(".catalog-filter__back"),R=document.querySelectorAll(".catalog-filter__checkbox"),O=document.querySelectorAll(".catalog-filter__search .c-search__input");H&&H.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),s=e.closest(".catalog-filter__block");s.nextElementSibling.classList.contains("catalog-filter__block--extended")&&(s.classList.add("is--hidden"),s.nextElementSibling.classList.add("is--active"),window.innerWidth<=1023&&(i.classList.add("scroll-disabled"),s.nextElementSibling.style.top=i.scrollTop+"px"))}))})),N&&N.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),s=e.closest(".catalog-filter__block");s.previousElementSibling.classList.contains("catalog-filter__block--default")&&(s.classList.remove("is--active"),s.previousElementSibling.classList.remove("is--hidden"),window.innerWidth<=1023&&(i.classList.remove("scroll-disabled"),s.style.top="0px"))}))})),M&&M.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),s=e.closest(".catalog-filter__block");s.previousElementSibling.classList.contains("catalog-filter__block--default")&&(s.classList.remove("is--active"),s.previousElementSibling.classList.remove("is--hidden"),window.innerWidth<=1023&&(i.classList.remove("scroll-disabled"),s.style.top="0px"))}))})),R&&R.forEach((function(e){e.addEventListener("click",(function(t){if(t.preventDefault(),e.classList.contains("catalog-filter__checkbox--preview")){var i=e.closest(".catalog-filter__block").nextElementSibling,s=e.querySelector(".square-checkbox__input"),c=s.dataset.id;i.classList.contains("catalog-filter__block--extended")&&(!0===s.checked?(i.querySelector("#"+c).checked=!1,s.checked=!1):(i.querySelector("#"+c).checked=!0,s.checked=!0),smartFilter.click(i.querySelector("#"+c)))}else{var o=e.closest(".catalog-filter__block").previousElementSibling,r=e.querySelector(".square-checkbox__input"),n=r.id;o.classList.contains("catalog-filter__block--default")&&(!0===r.checked?(o.querySelector(".square-checkbox__input[data-id="+n+"]")&&(o.querySelector(".square-checkbox__input[data-id="+n+"]").checked=!1),r.checked=!1):(o.querySelector(".square-checkbox__input[data-id="+n+"]")&&(o.querySelector(".square-checkbox__input[data-id="+n+"]").checked=!0),r.checked=!0))}}))})),O&&O.forEach((function(e){e.addEventListener("input",(function(t){t.preventDefault();var i=e.closest(".catalog-filter__block"),s=i.querySelectorAll(".catalog-filter__group"),c=i.querySelectorAll(".catalog-filter__letter"),o=i.querySelectorAll(".catalog-filter__checkbox");s&&(e.value.length>0?s.forEach((function(e){e.classList.add("is--hidden")})):s.forEach((function(e){e.classList.remove("is--hidden")}))),c&&(e.value.length>0?c.forEach((function(e){e.style.display="none"})):c.forEach((function(e){e.style.display="block"}))),o&&o.forEach((function(t){t.querySelector(".square-checkbox__title").innerText.toLowerCase().startsWith(e.value.toLowerCase())?t.style.display="block":t.style.display="none"}))}))}));var I=document.querySelector(".catalog__right"),W=document.querySelector(".catalog__filtered");W&&window.innerWidth>=1024&&I&&(I.querySelector(".catalog__sort")?setTimeout((function(){I.querySelector(".catalog__sort").after(W)}),50):I.querySelector(".catalog__empty")&&setTimeout((function(){I.querySelector(".catalog__empty").before(W)}),50));var U=document.querySelector(".header__location"),Y=document.querySelectorAll(".header__location .c-location__btn");U&&Y.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&U.classList.remove("is--active")}))}));var j=document.querySelector(".c-catalog"),J=document.querySelector(".c-catalog__trigger"),z=document.querySelectorAll(".c-catalog__categories-link"),F=document.querySelector(".c-catalog__dropdown"),G=document.querySelector(".c-catalog__left"),K=document.querySelector(".c-catalog__right");j&&J&&z&&(J.addEventListener("click",(function(t){t.preventDefault(),j.classList.contains("is--active")?(j.classList.remove("is--active"),e(),document.querySelector(".header__wrapper--top")&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(a.querySelector(".header__fixed").style.boxShadow="none",a.querySelector(".header__fixed").style.position="relative")):(U.classList.contains("is--active")&&U.classList.remove("is--active"),j.classList.add("is--active"),e(1),i())})),z.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;document.querySelectorAll(".c-catalog__holder").forEach((function(e){e.classList.remove("is--active")})),z.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")}))})));var Q=document.querySelectorAll(".categories__list"),X=document.querySelectorAll(".categories__view-all");Q&&X&&(Q.forEach((function(e){t(e)})),X.forEach((function(e){e.addEventListener("click",(function(i){i.preventDefault();var s=e.closest(".categories__item").querySelector(".categories__list"),c=s.querySelectorAll(".categories__list-item").length;s.classList.contains("is--full")?(s.classList.remove("is--full"),e.innerHTML="Показать все",t(s,9)):(s.classList.add("is--full"),e.innerHTML="Скрыть все",t(s,c))}))})));var Z=document.querySelectorAll(".catalog-categories__more");Z&&Z.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-categories__list");i.classList.contains("is--full")?(i.classList.remove("is--full"),e.innerHTML="Показать все"):(i.classList.add("is--full"),e.innerHTML="Скрыть")}))}));var $=document.querySelector(".similar-products__slider .swiper"),ee=document.querySelector(".similar-products-content__slider .swiper");if($&&window.innerWidth>=744)new Swiper($,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:".similar-products__slider .swiper-button-prev",nextEl:".similar-products__slider .swiper-button-next"},breakpoints:{744:{slidesPerView:3,spaceBetween:10},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}});if(ee)new Swiper(ee,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:".similar-products-content__slider .swiper-button-prev",nextEl:".similar-products-content__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},360:{slidesPerView:2},744:{slidesPerView:3},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}});var te=document.querySelector(".pickup-point__slider .swiper");if(te)new Swiper(te,{slidesPerView:1,loop:!0,navigation:{prevEl:".pickup-point__slider .swiper-button-prev",nextEl:".pickup-point__slider .swiper-button-next"}});var ie=document.querySelector(".often-buy__slider .swiper");if(ie)new Swiper(ie,{slidesPerView:4,spaceBetween:22,loop:!0,navigation:{prevEl:".often-buy__slider .swiper-button-prev",nextEl:".often-buy__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},744:{slidesPerView:2,spaceBetween:22},1024:{slidesPerView:3},1200:{slidesPerView:4}}});var se=document.querySelector(".product__slider .gallery-thumbs"),ce=document.querySelector(".product__slider .gallery-main");if(se&&ce){var oe=new Swiper(se,{allowTouchMove:!1,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:5,direction:"horizontal"},744:{slidesPerView:4,direction:"vertical",loopedSlides:4,thumbs:{swiper:oe}}}}),re=new Swiper(ce,{slidesPerView:1,spaceBetween:0,preloadImages:!1,breakpoints:{744:{loopedSlides:4,thumbs:{swiper:oe}}}});se.querySelectorAll(".swiper-slide").forEach((function(e){e.addEventListener("click",(function(){se.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active"),re.slideTo(e.dataset.index)}))})),re.on("slideChange",(function(){console.log(re.activeIndex),se.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),se.querySelectorAll(".swiper-slide")[re.activeIndex].classList.add("is--active")}))}var ne=document.getElementById("similar-products"),le=document.querySelectorAll(".similar-products-btn"),ae=document.getElementById("similar-products-close");ne&&le&&ae&&(ne.addEventListener("click",(function(t){(t.target.classList.contains("similar-products")||t.target.classList.contains("similar-products__wrap"))&&(t.preventDefault(),ne.classList.remove("is--active"),e())})),le.forEach((function(t,i){t.addEventListener("click",(function(t){t.preventDefault(),ne.classList.add("is--active"),e(1)}))})),ae.addEventListener("click",(function(t){t.preventDefault(),ne.classList.remove("is--active"),e()})));var de=window.pageYOffset;window.addEventListener("scroll",(function(){var e=window.pageYOffset;de>e||de<=0?document.body.classList.contains("scroll-disabled")||a&&(document.querySelector(".header__wrapper--top")?window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(a.querySelector(".header__fixed").style.boxShadow="none",a.querySelector(".header__fixed").style.position="relative"):window.pageYOffset<=0&&(a.querySelector(".header__fixed").style.boxShadow="none",a.querySelector(".header__fixed").style.position="relative")):document.body.classList.contains("scroll-disabled")||a&&(document.querySelector(".header__wrapper--top")?window.pageYOffset>=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(a.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",a.querySelector(".header__fixed").style.position="fixed",U&&U.classList.contains("is--active")&&U.classList.remove("is--active")):window.pageYOffset>=0&&(a.querySelector(".header__fixed").style.position="fixed")),j&&j.classList.contains("is--active")&&i(),de=e}))}));