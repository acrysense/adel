"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,i=window.innerWidth-document.body.offsetWidth+"px",s=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=i,s&&s.forEach((function(e){e.style.marginRight=i}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),s&&s.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=e.querySelectorAll(".categories__list-item"),s=0;i.forEach((function(e,i){i<=t&&(s+=e.getBoundingClientRect().height,i>0&&(s+=14))})),e.style.maxHeight=s+"px"}function i(){T.style.height="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",T.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",I.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",U.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)"}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.remove("is--open")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;var s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.add("is--open")},n=document.querySelectorAll(".catalog-filter__range-slider");n&&n.forEach((function(e){var t=e.closest(".catalog-filter__range"),i=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){i[t].value=Math.round(e[t])})),i.forEach((function(t,i){t.addEventListener("change",(function(){e.noUiSlider.setHandle(i,Math.round(this.value))})),t.addEventListener("keydown",(function(t){var s,r=e.noUiSlider.get(),n=Number(r[i]),o=e.noUiSlider.steps()[i];switch(t.which){case 13:e.noUiSlider.setHandle(i,Math.round(this.value));break;case 38:!1===(s=o[1])&&(s=1),null!==s&&e.noUiSlider.setHandle(i,Math.round(n+s));break;case 40:!1===(s=o[0])&&(s=1),null!==s&&e.noUiSlider.setHandle(i,Math.round(n-s))}}))}))}));var o=document.querySelectorAll(".js-select");o&&o.forEach((function(e){new SlimSelect({select:e})}));var c=document.querySelector(".header"),a=document.querySelector(".header-search"),l=document.querySelector(".header-search__input"),d=document.querySelector(".header-search__clear"),u=document.querySelector(".header-search__preview"),v=document.querySelector(".header-search__holder"),m=document.querySelector(".header-search__btn"),p=document.querySelector(".header-search__close");a&&(d.addEventListener("click",(function(e){e.preventDefault(),l.value.length>0&&(l.value="",u.classList.remove("is--hidden"),v.classList.remove("is--active"))})),window.innerWidth<=1023?(m.addEventListener("click",(function(t){t.preventDefault(),c.classList.contains("is--search")||a.classList.contains("is--active")||(c.classList.add("is--search"),a.classList.add("is--active"),l.value.length>=2?(u.classList.add("is--hidden"),v.classList.add("is--active")):(u.classList.remove("is--hidden"),v.classList.remove("is--active")),M.classList.contains("is--active")?M.classList.remove("is--active"):e(1))})),p.addEventListener("click",(function(t){t.preventDefault(),c.classList.contains("is--search")&&a.classList.contains("is--active")&&(c.classList.remove("is--search"),a.classList.remove("is--active"),e())}))):(l.addEventListener("focus",(function(){H.classList.contains("is--active")&&H.classList.remove("is--active"),c.classList.add("is--search"),a.classList.add("is--active"),M.classList.contains("is--active")?M.classList.remove("is--active"):e(1)})),a.addEventListener("click",(function(t){t.target.classList.contains("header-search")&&(t.preventDefault(),c.classList.remove("is--search"),a.classList.remove("is--active"),e())}))));var y=document.getElementById("mobile-menu"),f=document.getElementById("hamburger-toggle"),h=document.querySelector(".mobile-menu__close"),g=document.querySelectorAll(".mobile-menu__link--category"),_=document.querySelectorAll(".mobile-menu__back");y&&f&&h&&(f.addEventListener("click",(function(t){t.preventDefault(),y.classList.contains("is--active")?(y.classList.remove("is--active"),e(0)):(y.classList.add("is--active"),L&&L.classList.contains("is--active")&&L.classList.remove("is--active"),e(1))})),h.addEventListener("click",(function(t){t.preventDefault(),y.classList.contains("is--active")&&(y.classList.remove("is--active"),e())})),g&&g.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.dataset.category;document.querySelector(".mobile-menu__holder--main").classList.remove("is--active"),document.querySelector('.mobile-menu__holder[data-id="'+i+'"]').classList.add("is--active")}))})),_&&_.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".mobile-menu__holder").forEach((function(e){return e.classList.remove("is--active")})),document.querySelector(".mobile-menu__holder--main").classList.add("is--active")}))})));var L=document.getElementById("mobile-city-preview"),w=document.querySelectorAll(".mobile-city-preview__close"),S=document.querySelectorAll(".mobile-city-preview__btn");L&&w&&S&&(w.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),L.classList.contains("is--active")&&L.classList.remove("is--active")}))})),S.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&L.classList.remove("is--active")}))})));var b=document.querySelectorAll(".mobile-menu__link--trigger");b&&b.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.parentNode.classList.contains("is--open")?s(e.nextElementSibling):r(e.nextElementSibling)}))}));var E=document.getElementById("city-selection"),q=document.querySelectorAll(".city-selection-btn"),x=document.querySelector(".city-selection__close"),P=document.querySelector(".city-selection__input"),k=document.querySelector(".city-selection__info"),B=document.querySelector(".city-selection__results");document.querySelector(".city-selection__empty");E&&(E.addEventListener("click",(function(t){(t.target.classList.contains("city-selection")||t.target.classList.contains("city-selection__wrap"))&&(t.preventDefault(),E.classList.remove("is--active"),e())})),q.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),E.classList.contains("is--active")||(E.classList.add("is--active"),e(1),L&&L.classList.contains("is--active")&&L.classList.remove("is--active"),H&&H.classList.contains("is--active")&&H.classList.remove("is--active"))}))})),x.addEventListener("click",(function(t){t.preventDefault(),E.classList.contains("is--active")&&(E.classList.remove("is--active"),k.classList.add("is--active"),B.classList.remove("is--active"),P.value="",y?!y.classList.contains("is--active")&&window.innerWidth<=743&&e(0):e(0))})),P.addEventListener("input",(function(e){e.preventDefault(),P.value.length>=1?(k.classList.remove("is--active"),B.classList.add("is--active")):(k.classList.add("is--active"),B.classList.remove("is--active"))})));var D=document.querySelector(".c-filter-trigger__btn"),A=document.querySelector(".catalog-filter"),V=document.querySelector(".catalog-filter__close");D&&A&&V&&(D.addEventListener("click",(function(t){t.preventDefault(),A.classList.contains("is--active")||(A.classList.add("is--active"),e(1))})),V.addEventListener("click",(function(t){t.preventDefault(),A.classList.remove("is--active"),e()})));var H=document.querySelector(".header__location"),C=document.querySelectorAll(".header__location .c-location__btn");H&&C.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&H.classList.remove("is--active")}))}));var M=document.querySelector(".c-catalog"),N=document.querySelector(".c-catalog__trigger"),R=document.querySelectorAll(".c-catalog__categories-link"),T=document.querySelector(".c-catalog__dropdown"),I=document.querySelector(".c-catalog__left"),U=document.querySelector(".c-catalog__right");M&&N&&R&&(N.addEventListener("click",(function(t){t.preventDefault(),M.classList.contains("is--active")?(M.classList.remove("is--active"),e(),window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(c.querySelector(".header__fixed").style.boxShadow="none",c.querySelector(".header__fixed").style.position="relative")):(H.classList.contains("is--active")&&H.classList.remove("is--active"),M.classList.add("is--active"),e(1),i())})),R.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;document.querySelectorAll(".c-catalog__holder").forEach((function(e){e.classList.remove("is--active")})),R.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")}))})));var O=document.querySelectorAll(".categories__list"),Y=document.querySelectorAll(".categories__view-all");O&&Y&&(O.forEach((function(e){t(e)})),Y.forEach((function(e){e.addEventListener("click",(function(i){i.preventDefault();var s=e.closest(".categories__item").querySelector(".categories__list"),r=s.querySelectorAll(".categories__list-item").length;s.classList.contains("is--full")?(s.classList.remove("is--full"),e.innerHTML="Показать все",t(s,9)):(s.classList.add("is--full"),e.innerHTML="Скрыть все",t(s,r))}))})));var W=document.querySelectorAll(".catalog-categories__more");W&&W.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-categories__list");i.classList.contains("is--full")?(i.classList.remove("is--full"),e.innerHTML="Показать все"):(i.classList.add("is--full"),e.innerHTML="Скрыть")}))}));var j=document.querySelector(".similar-products__slider .swiper"),z=document.querySelector(".similar-products-content__slider .swiper");if(j&&window.innerWidth>=744)new Swiper(j,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:".similar-products__slider .swiper-button-prev",nextEl:".similar-products__slider .swiper-button-next"},breakpoints:{744:{slidesPerView:3,spaceBetween:10},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}});if(z)new Swiper(z,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:".similar-products-content__slider .swiper-button-prev",nextEl:".similar-products-content__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},360:{slidesPerView:2},744:{slidesPerView:3},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}});var F=document.querySelector(".often-buy__slider .swiper");if(F)new Swiper(F,{slidesPerView:4,spaceBetween:22,loop:!0,navigation:{prevEl:".often-buy__slider .swiper-button-prev",nextEl:".often-buy__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},744:{slidesPerView:2,spaceBetween:22},1024:{slidesPerView:3},1200:{slidesPerView:4}}});var G=document.querySelector(".product__slider .gallery-thumbs"),J=document.querySelector(".product__slider .gallery-main");if(G&&J){var K=new Swiper(G,{allowTouchMove:!1,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:5,direction:"horizontal"},744:{slidesPerView:4,direction:"vertical",loopedSlides:4,thumbs:{swiper:K}}}}),Q=new Swiper(J,{slidesPerView:1,spaceBetween:0,preloadImages:!1,breakpoints:{744:{loopedSlides:4,thumbs:{swiper:K}}}});G.querySelectorAll(".swiper-slide").forEach((function(e){e.addEventListener("click",(function(){G.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active"),Q.slideTo(e.dataset.index)}))})),Q.on("slideChange",(function(){console.log(Q.activeIndex),G.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),G.querySelectorAll(".swiper-slide")[Q.activeIndex].classList.add("is--active")}))}var X=document.getElementById("similar-products"),Z=document.querySelectorAll(".similar-products-btn"),$=document.getElementById("similar-products-close");X&&Z&&$&&(X.addEventListener("click",(function(t){(t.target.classList.contains("similar-products")||t.target.classList.contains("similar-products__wrap"))&&(t.preventDefault(),X.classList.remove("is--active"),e())})),Z.forEach((function(t,i){t.addEventListener("click",(function(t){t.preventDefault(),X.classList.add("is--active"),e(1)}))})),$.addEventListener("click",(function(t){t.preventDefault(),X.classList.remove("is--active"),e()})));var ee=window.pageYOffset;window.addEventListener("scroll",(function(){var e=window.pageYOffset;ee>e||ee<=0?document.body.classList.contains("scroll-disabled")||c&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(c.querySelector(".header__fixed").style.boxShadow="none",c.querySelector(".header__fixed").style.position="relative"):document.body.classList.contains("scroll-disabled")||c&&window.pageYOffset>=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(c.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",c.querySelector(".header__fixed").style.position="fixed",H&&H.classList.contains("is--active")&&H.classList.remove("is--active")),M.classList.contains("is--active")&&i(),ee=e}))}));